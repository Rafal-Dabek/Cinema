{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rafa\\u0142\\\\Documents\\\\GitHub\\\\Cinema\\\\cinema\\\\src\\\\Components\\\\RegisterSecondStep.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { Component } from 'react';\nimport { useState } from 'react';\nimport { useLocation, Link } from 'react-router-dom';\nimport \"./style.css\";\nimport \"./FormInput\";\nimport FormInput from './FormInput';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const RegisterSecondStep = () => {\n  _s();\n\n  const [values, setValues] = useState({\n    first_name: \"\",\n    last_name: \"\",\n    date_of_birth: \"\",\n    isAnAdult: false\n  });\n  const [ageValid, setAgeValid] = useState(false);\n  const [checked, setChecked] = useState(false);\n  const [fnameValid, setfnameValid] = useState(false);\n  const [lnameValid, setlnameValid] = useState(false);\n  const location = useLocation();\n  const prevdata = location.state; //prevdata from prewious page\n\n  let data = {\n    //date which is passed to next page\n    mail: prevdata.mail,\n    first_name: values.first_name\n  };\n  const inputs = [{\n    id: 1,\n    name: \"first_name\",\n    type: \"text\",\n    placeholder: \"e.g. Jessica\",\n    label: \"First name\",\n    required: true\n  }, {\n    id: 2,\n    name: \"last_name\",\n    type: \"text\",\n    placeholder: \"e.g. Walton\",\n    label: \"Last Name\",\n    required: true\n  }, {\n    id: 3,\n    name: \"date_of_birth\",\n    type: \"date\",\n    placeholder: \"DD / MM / YYYY\",\n    label: \"Date of birth\",\n    required: true\n  }];\n\n  function getAge(dateString) {\n    //checks the age of a person\n    var today = new Date();\n    var birthDate = new Date(dateString);\n    var age = today.getFullYear() - birthDate.getFullYear();\n    var m = today.getMonth() - birthDate.getMonth();\n\n    if (m < 0 || m === 0 && today.getDate() < birthDate.getDate()) {\n      age--;\n    }\n\n    return age;\n  }\n\n  function isValid(e) {\n    //checks if a person is 18 or older\n    if (e.target.name === \"date_of_birth\") {\n      getAge(e.target.value) >= 18 ? document.getElementById(\"over18yo\").style.color = \"green\" : document.getElementById(\"over18yo\").style.color = \"red\";\n      if (!ageValid) setAgeValid(!ageValid);\n      console.log(\"checked: \" + checked); //add check box requirement\n\n      console.log(\" agevalid: \" + ageValid);\n      console.log(\" fname: \" + fnameValid);\n      console.log(\" lname: \" + lnameValid);\n    }\n\n    if (e.target.name === \"first_name\") {\n      //checks if firstname is correct\n      if (/^[A-Za-z]+/.test(e.target.value)) {\n        setfnameValid(true);\n      }\n\n      if (e.target.name === \"last_name\") {\n        //checks if lastname is correct\n        if (/\\b([A-ZÀ-ÿ][-,a-z. ']+[ ]*)+/.test(e.target.value)) {\n          setlnameValid(true);\n          console.log(\"xd\");\n        }\n      }\n    }\n  }\n\n  function changeCheckerValid() {\n    document.getElementById(\"privacyPolicyCheckbox\").checked ? setChecked(true) : setChecked(false);\n  }\n\n  const onChange = e => {\n    setValues({ ...values,\n      [e.target.name]: e.target.value\n    });\n    isValid(e);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      id: \"darkSentence\",\n      children: \"Great!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      id: \"graySentence\",\n      children: \"Now your name\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      id: \"card\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [inputs.map(input => /*#__PURE__*/_jsxDEV(FormInput, { ...input,\n          value: values[input.name],\n          onChange: onChange\n        }, input.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 25\n        }, this)), /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"over18yo\",\n          className: \"helper\",\n          children: \"You should be minimum 18 years old\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          id: \"privacyPolicy\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: \"privacyPolicyCheckbox\",\n            required: true,\n            onClick: changeCheckerValid\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 46\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"checkbox\",\n            id: \"privacyPolicyLabel\",\n            children: [\" I accept \", /*#__PURE__*/_jsxDEV(\"a\", {\n              id: \"privacyPolicyLink\",\n              href: \"#\",\n              children: \"Privacy Policy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 79\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"buttonDiv\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"logIn\",\n            children: \"Log in instead\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/Succes\",\n            state: data,\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"nextStep\",\n              disabled: !(ageValid && checked && fnameValid && lnameValid),\n              children: \" Next step\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 9\n  }, this);\n};\n\n_s(RegisterSecondStep, \"4eOwA+K4ywIwaj6r3CJAKAU96Is=\", false, function () {\n  return [useLocation];\n});\n\n_c = RegisterSecondStep;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterSecondStep\");","map":{"version":3,"names":["React","Component","useState","useLocation","Link","FormInput","RegisterSecondStep","values","setValues","first_name","last_name","date_of_birth","isAnAdult","ageValid","setAgeValid","checked","setChecked","fnameValid","setfnameValid","lnameValid","setlnameValid","location","prevdata","state","data","mail","inputs","id","name","type","placeholder","label","required","getAge","dateString","today","Date","birthDate","age","getFullYear","m","getMonth","getDate","isValid","e","target","value","document","getElementById","style","color","console","log","test","changeCheckerValid","onChange","map","input"],"sources":["C:/Users/Rafał/Documents/GitHub/Cinema/cinema/src/Components/RegisterSecondStep.jsx"],"sourcesContent":["import React, { Component } from 'react';\r\nimport  { useState} from 'react';\r\nimport { useLocation,Link } from 'react-router-dom';\r\nimport \"./style.css\"\r\nimport \"./FormInput\"\r\nimport FormInput from './FormInput';\r\nexport const RegisterSecondStep=()=>{\r\n    const [values,setValues]=useState({\r\n        first_name:\"\",\r\n        last_name:\"\",\r\n        date_of_birth:\"\",\r\n        isAnAdult:false,\r\n    })\r\n\r\n    const [ageValid, setAgeValid] = useState(false);\r\n    const [checked, setChecked] = useState(false);\r\n    const [fnameValid, setfnameValid] = useState(false);\r\n    const [lnameValid, setlnameValid] = useState(false);\r\n    const location = useLocation();\r\nconst prevdata = location.state;//prevdata from prewious page\r\nlet data={   //date which is passed to next page\r\n  mail:prevdata.mail,\r\n  first_name:values.first_name\r\n}\r\nconst inputs=[\r\n    {\r\n        id:1,\r\n        name:\"first_name\",\r\n        type:\"text\",\r\n        placeholder:\"e.g. Jessica\",\r\n        label:\"First name\",\r\n        required:true,\r\n    },\r\n    {\r\n        id:2,\r\n        name:\"last_name\",\r\n        type:\"text\",\r\n        placeholder:\"e.g. Walton\",\r\n        label:\"Last Name\",\r\n        required:true\r\n    },\r\n    {\r\n        id:3,\r\n        name:\"date_of_birth\",\r\n        type:\"date\",\r\n        placeholder:\"DD / MM / YYYY\",\r\n        label:\"Date of birth\",\r\n        required:true,\r\n    }\r\n]\r\nfunction getAge(dateString) {//checks the age of a person\r\n    var today = new Date();\r\n    var birthDate = new Date(dateString);\r\n    var age = today.getFullYear() - birthDate.getFullYear();\r\n    var m = today.getMonth() - birthDate.getMonth();\r\n    if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {\r\n        age--;\r\n    }\r\n    return age;\r\n}\r\n\r\nfunction isValid(e) {  //checks if a person is 18 or older\r\n   \r\n    \r\n    if(e.target.name===\"date_of_birth\"){\r\n        (getAge(e.target.value)>=18)? document.getElementById(\"over18yo\").style.color = \"green\" : document.getElementById(\"over18yo\").style.color = \"red\";\r\n        if(!ageValid)setAgeValid(!ageValid);\r\n        console.log(\"checked: \"+checked)//add check box requirement\r\n        console.log(\" agevalid: \"+ageValid)\r\n        console.log(\" fname: \"+fnameValid)\r\n        console.log(\" lname: \"+lnameValid)\r\n    }\r\n    if(e.target.name===\"first_name\"){//checks if firstname is correct\r\n        if(/^[A-Za-z]+/.test(e.target.value)){\r\n            setfnameValid(true);\r\n            \r\n    }   \r\n\r\n    if(e.target.name===\"last_name\"){//checks if lastname is correct\r\n        if(/\\b([A-ZÀ-ÿ][-,a-z. ']+[ ]*)+/.test(e.target.value)){\r\n            setlnameValid(true);\r\n            console.log(\"xd\")\r\n        }\r\n    } \r\n\r\n}\r\n   \r\n}\r\n\r\nfunction changeCheckerValid(){\r\n    (document.getElementById(\"privacyPolicyCheckbox\").checked)? setChecked(true) : setChecked(false)\r\n    \r\n}\r\n\r\n\r\nconst onChange=(e)=>{\r\n    setValues({...values,[e.target.name]:e.target.value})\r\n    isValid(e)\r\n}\r\n\r\n    \r\n    return(\r\n        <div className='container'>\r\n           <p id='darkSentence'>Great!</p> \r\n           <p id='graySentence'>Now your name</p> \r\n            <div className='card' id='card'>\r\n                \r\n                \r\n                \r\n                <form>\r\n                    {inputs.map((input)=>(\r\n                        <FormInput key={input.id}\r\n                         {...input} \r\n                        value={values[input.name]} \r\n                         onChange={onChange}\r\n                         />\r\n\r\n                    ))}\r\n                    <p id=\"over18yo\" className='helper'>You should be minimum 18 years old</p>\r\n                    <span id=\"privacyPolicy\"><input type=\"checkbox\" id=\"privacyPolicyCheckbox\" required onClick={changeCheckerValid} />\r\n                    <label for=\"checkbox\" id=\"privacyPolicyLabel\"  > I accept <a id=\"privacyPolicyLink\" href='#'>Privacy Policy</a></label></span>\r\n                    <br></br>\r\n                    <div className='buttonDiv'>\r\n                    <button className='logIn'>Log in instead</button>\r\n                    <Link to=\"/Succes\" state={data}>\r\n                    <button className='nextStep' disabled={!(ageValid &&checked &&fnameValid &&lnameValid)}> Next step</button>\r\n                    </Link>\r\n                    </div>\r\n                    \r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}