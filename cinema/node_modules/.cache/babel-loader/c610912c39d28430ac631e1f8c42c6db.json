{"ast":null,"code":"import _defineProperty from\"C:/Users/Rafa\\u0142/Documents/GitHub/Cinema/cinema/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Rafa\\u0142/Documents/GitHub/Cinema/cinema/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Rafa\\u0142/Documents/GitHub/Cinema/cinema/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Component}from'react';import{useState}from'react';import{useLocation,Link}from'react-router-dom';import\"./style.css\";import\"./FormInput\";import FormInput from'./FormInput';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var RegisterSecondStep=function RegisterSecondStep(){var _useState=useState({first_name:\"\",last_name:\"\",date_of_birth:\"\"}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),ageValid=_useState4[0],setAgeValid=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),checked=_useState6[0],setChecked=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),fnameValid=_useState8[0],setfnameValid=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),lnameValid=_useState10[0],setlnameValid=_useState10[1];var location=useLocation();var prevdata=location.state;//prevdata from prewious page\nvar data={//date which is passed to next page\nmail:prevdata.mail,first_name:values.first_name};var inputs=[{id:1,name:\"first_name\",type:\"text\",placeholder:\"e.g. Jessica\",label:\"First name\",required:true},{id:2,name:\"last_name\",type:\"text\",placeholder:\"e.g. Walton\",label:\"Last Name\",required:true},{id:3,name:\"date_of_birth\",type:\"date\",placeholder:\"DD / MM / YYYY\",label:\"Date of birth\",required:true}];function getAge(dateString){//checks the age of a person\nvar today=new Date();var birthDate=new Date(dateString);var age=today.getFullYear()-birthDate.getFullYear();var m=today.getMonth()-birthDate.getMonth();if(m<0||m===0&&today.getDate()<birthDate.getDate()){age--;}return age;}function isValid(e){//checks if a person is 18 or older\nif(e.target.name===\"date_of_birth\"){getAge(e.target.value)>=18?document.getElementById(\"over18yo\").style.color=\"green\":document.getElementById(\"over18yo\").style.color=\"red\";getAge(e.target.value)>=18?setAgeValid(true):setAgeValid(false);//checks if age is correct\nconsole.log(\"checked: \"+checked);console.log(\" agevalid: \"+ageValid);console.log(\" fname: \"+fnameValid);console.log(\" lname: \"+lnameValid);}if(e.target.name===\"first_name\"){//checks if firstname is correct\n/^[A-Z][a-z0-9_-]{1,19}$/.test(e.target.value)?setfnameValid(true):setfnameValid(false);}if(e.target.name===\"last_name\"){//checks if lastname is correct\n/^[A-Z][a-z0-9_-]{1,19}$/.test(e.target.value)?setlnameValid(function(prevState,props){return(//changes the lastnameValid property\n{value:true});}):setlnameValid(false);}}function changeCheckerValid(){document.getElementById(\"privacyPolicyCheckbox\").checked?setChecked(true):setChecked(false);}var onChange=function onChange(e){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},e.target.name,e.target.value)));isValid(e);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"darkSentence\",children:\"Great!\"}),/*#__PURE__*/_jsx(\"p\",{id:\"graySentence\",children:\"Now your name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",id:\"card\",children:/*#__PURE__*/_jsxs(\"form\",{children:[inputs.map(function(input){return/*#__PURE__*/_jsx(FormInput,_objectSpread(_objectSpread({},input),{},{value:values[input.name],onChange:onChange}),input.id);}),/*#__PURE__*/_jsx(\"p\",{id:\"over18yo\",className:\"helper\",children:\"You should be minimum 18 years old\"}),/*#__PURE__*/_jsxs(\"span\",{id:\"privacyPolicy\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"privacyPolicyCheckbox\",required:true,onClick:changeCheckerValid}),/*#__PURE__*/_jsxs(\"label\",{for:\"checkbox\",id:\"privacyPolicyLabel\",children:[\" I accept \",/*#__PURE__*/_jsx(\"a\",{id:\"privacyPolicyLink\",href:\"#\",children:\"Privacy Policy\"})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttonDiv\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"logIn\",children:\"Log in instead\"}),/*#__PURE__*/_jsx(Link,{to:\"/Succes\",state:data,children:/*#__PURE__*/_jsx(\"button\",{className:\"nextStep\",disabled:!(checked&&fnameValid&&lnameValid&&ageValid),children:\" Next step\"})})]})]})})]});};","map":{"version":3,"names":["React","Component","useState","useLocation","Link","FormInput","RegisterSecondStep","first_name","last_name","date_of_birth","values","setValues","ageValid","setAgeValid","checked","setChecked","fnameValid","setfnameValid","lnameValid","setlnameValid","location","prevdata","state","data","mail","inputs","id","name","type","placeholder","label","required","getAge","dateString","today","Date","birthDate","age","getFullYear","m","getMonth","getDate","isValid","e","target","value","document","getElementById","style","color","console","log","test","prevState","props","changeCheckerValid","onChange","map","input"],"sources":["C:/Users/RafaÅ‚/Documents/GitHub/Cinema/cinema/src/Components/RegisterSecondStep.jsx"],"sourcesContent":["import React, { Component } from 'react';\r\nimport  { useState} from 'react';\r\nimport { useLocation,Link } from 'react-router-dom';\r\nimport \"./style.css\"\r\nimport \"./FormInput\"\r\nimport FormInput from './FormInput';\r\nexport const RegisterSecondStep=()=>{\r\n    const [values,setValues]=useState({\r\n        first_name:\"\",\r\n        last_name:\"\",\r\n        date_of_birth:\"\",\r\n    })\r\n\r\n    const [ageValid, setAgeValid] = useState(false);\r\n    const [checked, setChecked] = useState(false);\r\n    const [fnameValid, setfnameValid] = useState(false);\r\n    const [lnameValid, setlnameValid] = useState(false);\r\n    const location = useLocation();\r\nconst prevdata = location.state;//prevdata from prewious page\r\nlet data={   //date which is passed to next page\r\n  mail:prevdata.mail,\r\n  first_name:values.first_name\r\n}\r\nconst inputs=[\r\n    {\r\n        id:1,\r\n        name:\"first_name\",\r\n        type:\"text\",\r\n        placeholder:\"e.g. Jessica\",\r\n        label:\"First name\",\r\n        required:true,\r\n    },\r\n    {\r\n        id:2,\r\n        name:\"last_name\",\r\n        type:\"text\",\r\n        placeholder:\"e.g. Walton\",\r\n        label:\"Last Name\",\r\n        required:true\r\n    },\r\n    {\r\n        id:3,\r\n        name:\"date_of_birth\",\r\n        type:\"date\",\r\n        placeholder:\"DD / MM / YYYY\",\r\n        label:\"Date of birth\",\r\n        required:true,\r\n    }\r\n]\r\nfunction getAge(dateString) {//checks the age of a person\r\n    var today = new Date();\r\n    var birthDate = new Date(dateString);\r\n    var age = today.getFullYear() - birthDate.getFullYear();\r\n    var m = today.getMonth() - birthDate.getMonth();\r\n    if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {\r\n        age--;\r\n    }\r\n    return age;\r\n}\r\n\r\nfunction isValid(e) {  //checks if a person is 18 or older\r\n   \r\n    \r\n    if(e.target.name===\"date_of_birth\"){\r\n        (getAge(e.target.value)>=18)? document.getElementById(\"over18yo\").style.color = \"green\" : document.getElementById(\"over18yo\").style.color = \"red\";\r\n        (getAge(e.target.value)>=18)? setAgeValid(true) : setAgeValid(false) //checks if age is correct\r\n         \r\n        console.log(\"checked: \"+checked)\r\n        console.log(\" agevalid: \"+ageValid)\r\n        console.log(\" fname: \"+fnameValid)\r\n        console.log(\" lname: \"+lnameValid)\r\n    }\r\n    if(e.target.name===\"first_name\"){//checks if firstname is correct\r\n        \r\n            (/^[A-Z][a-z0-9_-]{1,19}$/.test(e.target.value))? setfnameValid(true) : setfnameValid(false) \r\n            \r\n       }\r\n\r\n    if(e.target.name===\"last_name\"){//checks if lastname is correct\r\n        \r\n            (/^[A-Z][a-z0-9_-]{1,19}$/.test(e.target.value))? setlnameValid((prevState,props)=>(  //changes the lastnameValid property\r\n            {\r\n                value:true\r\n            })) : setlnameValid(false) \r\n            \r\n     \r\n\r\n}\r\n   \r\n}\r\n\r\nfunction changeCheckerValid(){\r\n    (document.getElementById(\"privacyPolicyCheckbox\").checked)? setChecked(true) : setChecked(false)\r\n    \r\n}\r\n\r\n\r\nconst onChange=(e)=>{\r\n    setValues({...values,[e.target.name]:e.target.value})\r\n    isValid(e)\r\n}\r\n\r\n    \r\n    return(\r\n        <div className='container'>\r\n           <p id='darkSentence'>Great!</p> \r\n           <p id='graySentence'>Now your name</p> \r\n            <div className='card' id='card'>\r\n                \r\n                \r\n                \r\n                <form>\r\n                    {inputs.map((input)=>(\r\n                        <FormInput key={input.id}\r\n                         {...input} \r\n                        value={values[input.name]} \r\n                         onChange={onChange}\r\n                         />\r\n\r\n                    ))}\r\n                    <p id=\"over18yo\" className='helper'>You should be minimum 18 years old</p>\r\n                    <span id=\"privacyPolicy\"><input type=\"checkbox\" id=\"privacyPolicyCheckbox\" required onClick={changeCheckerValid} />\r\n                    <label for=\"checkbox\" id=\"privacyPolicyLabel\"  > I accept <a id=\"privacyPolicyLink\" href='#'>Privacy Policy</a></label></span>\r\n                    <br></br>\r\n                    <div className='buttonDiv'>\r\n                    <button className='logIn'>Log in instead</button>\r\n                    <Link to=\"/Succes\" state={data}>\r\n                    <button className='nextStep' disabled={!( checked && fnameValid && lnameValid && ageValid)}> Next step</button>\r\n                    </Link>\r\n                    </div>\r\n                    \r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}